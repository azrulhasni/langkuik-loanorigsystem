{
  "version": 3,
  "sources": ["../../@vaadin-component-factory/vcf-popup/theme/lumo/vcf-popup-styles.js", "../../@vaadin-component-factory/vcf-popup/src/vcf-popup.js", "external:@vaadin/vaadin-overlay", "external:@polymer/iron-media-query"],
  "sourcesContent": ["import '@vaadin/vaadin-lumo-styles/spacing';\r\nimport '@vaadin/vaadin-lumo-styles/style';\r\n\r\nconst popupTheme = document.createElement('dom-module');\r\npopupTheme.id = 'vcf-popup-lumo';\r\npopupTheme.setAttribute('theme-for', 'vcf-popup');\r\npopupTheme.innerHTML = `\r\n    <template>\r\n      <style>\r\n        :host([phone]) {\r\n          top: 0 !important;\r\n          right: 0 !important;\r\n          bottom: var(--vaadin-overlay-viewport-bottom, 0) !important;\r\n          left: 0 !important;\r\n          align-items: stretch !important;\r\n          justify-content: flex-end !important;\r\n        }\r\n\r\n        :host([phone]) [part=\"overlay\"] {\r\n          max-height: 50vh;\r\n          width: 100vw;\r\n          border-radius: 0;\r\n          box-shadow: var(--lumo-box-shadow-xl);\r\n        }\r\n\r\n        /* The content part scrolls instead of the overlay part, because of the gradient fade-out */\r\n\r\n        :host([phone]) [part=\"content\"] {\r\n          padding: 30px var(--lumo-space-m);\r\n          max-height: inherit;\r\n          box-sizing: border-box;\r\n          -webkit-overflow-scrolling: touch;\r\n          overflow: auto;\r\n          -webkit-mask-image: linear-gradient(transparent, #000 40px, #000 calc(100% - 40px), transparent);\r\n          mask-image: linear-gradient(transparent, #000 40px, #000 calc(100% - 40px), transparent);\r\n        }\r\n\r\n        :host([phone]) [part=\"backdrop\"] {\r\n          display: block;\r\n        }\r\n\r\n        /* Animations */\r\n\r\n        :host([opening][phone]) [part=\"overlay\"] {\r\n          animation: 0.2s lumo-mobile-menu-overlay-enter cubic-bezier(.215, .61, .355, 1) both;\r\n        }\r\n\r\n        :host([closing][phone]),\r\n        :host([closing][phone]) [part=\"backdrop\"] {\r\n          animation-delay: 0.14s;\r\n        }\r\n\r\n        :host([closing][phone]) [part=\"overlay\"] {\r\n          animation: 0.14s 0.14s lumo-mobile-menu-overlay-exit cubic-bezier(.55, .055, .675, .19) both;\r\n        }\r\n      </style>\r\n    </template>\r\n  `;\r\npopupTheme.register(popupTheme.id);\r\n\r\nconst overlayTheme = document.createElement('dom-module');\r\noverlayTheme.id = 'vcf-vaadin-overlay-lumo';\r\noverlayTheme.setAttribute('theme-for', 'vcf-popup-overlay');\r\noverlayTheme.innerHTML = `\r\n    <template>\r\n      <style>\r\n\t\t\t\t:host {\r\n\t\t\t\t\talign-items: flex-start;\r\n\t\t\t\t\tjustify-content: flex-start;\r\n\t\t\t\t\tright: auto;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tbottom: auto;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t[part=\"content\"] {\r\n\t\t\t\t\tpadding: 0;\r\n\t\t\t\t}\r\n      </style>\r\n    </template>\r\n  `;\r\noverlayTheme.register(overlayTheme.id);\r\n", "/*\r\n * Copyright 2000-2020 Vaadin Ltd.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\r\n * use this file except in compliance with the License. You may obtain a copy of\r\n * the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\r\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n * License for the specific language governing permissions and limitations under\r\n * the License.\r\n */\r\n\r\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element';\r\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin';\r\nimport { ElementMixin } from '@vaadin/vaadin-element-mixin';\r\nimport { OverlayElement } from '@vaadin/vaadin-overlay/src/vaadin-overlay.js';\r\nimport '@vaadin/vaadin-overlay';\r\nimport '@polymer/iron-media-query';\r\n\r\nclass PopupOverlayElement extends OverlayElement {\r\n  static get is() {\r\n    return 'vcf-popup-overlay';\r\n  }\r\n}\r\n\r\ncustomElements.define(PopupOverlayElement.is, PopupOverlayElement);\r\n\r\nclass VcfPopup extends ElementMixin(ThemableMixin(PolymerElement)) {\r\n  static get template() {\r\n    return html`\r\n      <style>\r\n        :host {\r\n          display: block;\r\n        }\r\n      </style>\r\n\r\n      <vcf-popup-overlay id=\"popupOverlay\" opened=\"{{opened}}\" theme$=\"[[theme]]\" with-backdrop=\"[[_phone]]\" phone$=\"[[_phone]]\"> </vcf-popup-overlay>\r\n\r\n      <iron-media-query query=\"[[_phoneMediaQuery]]\" query-matches=\"{{_phone}}\"> </iron-media-query>\r\n    `;\r\n  }\r\n\r\n  static get is() {\r\n    return 'vcf-popup';\r\n  }\r\n\r\n  static get version() {\r\n    return '1.2.6';\r\n  }\r\n  /**\r\n   * Object describing property-related metadata used by Polymer features\r\n   */\r\n  static get properties() {\r\n    return {\r\n      opened: {\r\n        type: Boolean,\r\n        value: false,\r\n        reflectToAttribute: true\r\n      },\r\n\r\n      for: {\r\n        type: String\r\n      },\r\n\r\n      closeOnClick: {\r\n        type: Boolean,\r\n        value: false,\r\n        reflectToAttribute: true\r\n      },\r\n\r\n      _targetElement: {\r\n        type: Object\r\n      },\r\n\r\n      _phone: Boolean,\r\n\r\n      _phoneMediaQuery: {\r\n        value: '(max-width: 420px), (max-height: 420px)'\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @protected\r\n   */\r\n  static _finalizeClass() {\r\n    super._finalizeClass();\r\n  }\r\n\r\n  static get observers() {\r\n    return ['_attachToTarget(for)'];\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    this._boundShow = this.show.bind(this);\r\n    this._boundHide = this.hide.bind(this);\r\n  }\r\n\r\n  ready() {\r\n    super.ready();\r\n    this.$.popupOverlay.template = this.querySelector('template');\r\n    this.$.popupOverlay.addEventListener('vaadin-overlay-open', () => this._popupOpenChanged(true));\r\n    this.$.popupOverlay.addEventListener('vaadin-overlay-close', () => this._popupOpenChanged(false));\r\n    if (this.closeOnClick) {\r\n      this.$.popupOverlay.addEventListener('click', this._boundHide);\r\n    }\r\n  }\r\n\r\n  connectedCallback() {\r\n    if (!this._targetElement) {\r\n      this._targetElement = this.parentNode.querySelector(`#${this.for}`);\r\n    }\r\n    this._attachToTarget();\r\n    super.connectedCallback();\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    super.disconnectedCallback();\r\n    this._detachFromTarget();\r\n    if (this.closeOnClick) {\r\n      this.$.popupOverlay.removeEventListener('click', this._boundHide);\r\n    }\r\n  }\r\n\r\n  show() {\r\n    this.opened = true;\r\n    this._setPosition();\r\n  }\r\n\r\n  hide() {\r\n    this.opened = false;\r\n  }\r\n\r\n  _attachToTarget() {\r\n    if (!this._targetElement) {\r\n      return;\r\n    }\r\n    this._targetElement.addEventListener('click', this._boundShow);\r\n  }\r\n\r\n  _detachFromTarget() {\r\n    this._targetElement.removeEventListener('click', this._boundShow);\r\n  }\r\n\r\n  _setPosition() {\r\n    const targetBoundingRect = this._targetElement.getBoundingClientRect();\r\n    const overlayRect = this.$.popupOverlay.getBoundingClientRect();\r\n    const positionLeft = targetBoundingRect.left;\r\n    const positionTop = targetBoundingRect.top + targetBoundingRect.height + window.pageYOffset;\r\n\r\n    if (positionLeft + overlayRect.width > window.innerWidth) {\r\n      this.$.popupOverlay.style.right = '0px';\r\n      this.$.popupOverlay.style.left = 'auto';\r\n    } else {\r\n      this.$.popupOverlay.style.left = `${Math.max(0, positionLeft)}px`;\r\n      this.$.popupOverlay.style.right = 'auto';\r\n    }\r\n\r\n    if (positionTop + overlayRect.height > window.innerHeight + window.pageYOffset) {\r\n      this.$.popupOverlay.style.top = `${positionTop - targetBoundingRect.height - overlayRect.height}px`;\r\n    } else {\r\n      this.$.popupOverlay.style.top = `${positionTop}px`;\r\n    }\r\n  }\r\n\r\n  _popupOpenChanged(isOpened) {\r\n    if (isOpened) {\r\n      window.addEventListener('scroll', this._boundSetPosition, true);\r\n    } else {\r\n      window.removeEventListener('scroll', this._boundSetPosition, true);\r\n    }\r\n    this.dispatchEvent(new CustomEvent('popup-open-changed', {\r\n      detail: {\r\n        opened: isOpened\r\n      }\r\n    }));\r\n  }\r\n\r\n}\r\n\r\ncustomElements.define(VcfPopup.is, VcfPopup);\r\n\r\n/**\r\n * @namespace Vaadin\r\n */\r\nwindow.Vaadin.VcfPopup = VcfPopup;\r\n", "export * from \"@vaadin/vaadin-overlay\"", "export * from \"@polymer/iron-media-query\""],
  "mappings": "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",
  "names": []
}
